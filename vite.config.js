import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';
import autoprefixer from 'autoprefixer';
import path from 'path';
import fs from 'fs';
import handlebars from 'handlebars';
import { nodePolyfills } from 'vite-plugin-node-polyfills';

const pages = {"pl4ygr0und":{"outputDir":"./pl4ygr0und","lang":"fr","title":"MARTIN B. LEVY | Product Builder freelance à Marseille","cacheVersion":133,"meta":[{"name":"title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"itemprop":"name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"itemprop":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"itemprop":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"name":"twitter:card","content":"summary"},{"name":"twitter:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"twitter:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"twitter:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"property":"og:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:site_name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:type","content":"website"},{"name":"robots","content":"index, follow"}],"scripts":{"head":"\n","body":"<style>\nhtml {\n    background-color: #101010;\n}\n\n.construct img {\n  image-rendering: pixelated !important; /* Pour Chrome/Safari */\n  image-rendering: -moz-crisp-edges !important; /* Pour Firefox */\n}\n.thumb_project img{\n    transition: --wwi-f 0.5s ease, filter 0.5s ease !important;\n}\n</style>\n\n<script>\ndocument.querySelector('body').addEventListener('mousemove', eyeball);\n\n    function eyeball(event) {\n      var eye = document.querySelectorAll('.eye');\n      var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n\n      eye.forEach(function(eye) {\n        let x = (eye.getBoundingClientRect().left + scrollLeft) + (eye.clientWidth / 2);\n        let y = (eye.getBoundingClientRect().top + scrollTop) + (eye.clientHeight / 2);\n        let radian = Math.atan2(event.pageX - x, event.pageY - y);\n        let rot = (radian * (180 / Math.PI) * -1) + 270;\n        eye.style.transform = \"rotate(\"+ rot +\"deg)\";\n      });\n    }\n</script>\n"},"baseTag":{"href":"/","target":"_self"},"alternateLinks":[{"rel":"alternate","hreflang":"x-default","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/pl4ygr0und/"},{"rel":"alternate","hreflang":"fr","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/pl4ygr0und/"}]},"projets":{"outputDir":"./projets","lang":"fr","title":"MARTIN B. LEVY | Product Builder freelance à Marseille","cacheVersion":133,"meta":[{"name":"title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"itemprop":"name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"itemprop":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"itemprop":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"name":"twitter:card","content":"summary"},{"name":"twitter:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"twitter:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"twitter:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"property":"og:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:site_name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:type","content":"website"},{"name":"robots","content":"index, follow"}],"scripts":{"head":"\n","body":"<style>\nhtml {\n    background-color: #101010;\n}\n\n.construct img {\n  image-rendering: pixelated !important; /* Pour Chrome/Safari */\n  image-rendering: -moz-crisp-edges !important; /* Pour Firefox */\n}\n.thumb_project img{\n    transition: --wwi-f 0.5s ease, filter 0.5s ease !important;\n}\n</style>\n\n<script>\ndocument.querySelector('body').addEventListener('mousemove', eyeball);\n\n    function eyeball(event) {\n      var eye = document.querySelectorAll('.eye');\n      var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n\n      eye.forEach(function(eye) {\n        let x = (eye.getBoundingClientRect().left + scrollLeft) + (eye.clientWidth / 2);\n        let y = (eye.getBoundingClientRect().top + scrollTop) + (eye.clientHeight / 2);\n        let radian = Math.atan2(event.pageX - x, event.pageY - y);\n        let rot = (radian * (180 / Math.PI) * -1) + 270;\n        eye.style.transform = \"rotate(\"+ rot +\"deg)\";\n      });\n    }\n</script>\n"},"baseTag":{"href":"/","target":"_self"},"alternateLinks":[{"rel":"alternate","hreflang":"x-default","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/projets/"},{"rel":"alternate","hreflang":"fr","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/projets/"}]},"playground/:param":{"outputDir":"./playground/:param","lang":"fr","title":"MARTIN B. LEVY | Product Builder freelance à Marseille","cacheVersion":133,"meta":[{"name":"title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"itemprop":"name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"itemprop":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"itemprop":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"name":"twitter:card","content":"summary"},{"name":"twitter:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"twitter:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"twitter:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"property":"og:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:site_name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:type","content":"website"},{"name":"robots","content":"index, follow"}],"scripts":{"head":"\n","body":"<style>\nhtml {\n    background-color: #101010;\n}\n\n.construct img {\n  image-rendering: pixelated !important; /* Pour Chrome/Safari */\n  image-rendering: -moz-crisp-edges !important; /* Pour Firefox */\n}\n.thumb_project img{\n    transition: --wwi-f 0.5s ease, filter 0.5s ease !important;\n}\n</style>\n\n<script>\ndocument.querySelector('body').addEventListener('mousemove', eyeball);\n\n    function eyeball(event) {\n      var eye = document.querySelectorAll('.eye');\n      var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n\n      eye.forEach(function(eye) {\n        let x = (eye.getBoundingClientRect().left + scrollLeft) + (eye.clientWidth / 2);\n        let y = (eye.getBoundingClientRect().top + scrollTop) + (eye.clientHeight / 2);\n        let radian = Math.atan2(event.pageX - x, event.pageY - y);\n        let rot = (radian * (180 / Math.PI) * -1) + 270;\n        eye.style.transform = \"rotate(\"+ rot +\"deg)\";\n      });\n    }\n</script>\n"},"baseTag":{"href":"/","target":"_self"},"alternateLinks":[{"rel":"alternate","hreflang":"x-default","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/playground/:param/"},{"rel":"alternate","hreflang":"fr","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/playground/:param/"}]},"services":{"outputDir":"./services","lang":"fr","title":"MARTIN B. LEVY | Product Builder freelance à Marseille","cacheVersion":133,"meta":[{"name":"title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"itemprop":"name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"itemprop":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"itemprop":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"name":"twitter:card","content":"summary"},{"name":"twitter:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"twitter:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"twitter:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"property":"og:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:site_name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:type","content":"website"},{"name":"robots","content":"index, follow"}],"scripts":{"head":"\n","body":"<style>\nhtml {\n    background-color: #101010;\n}\n\n.construct img {\n  image-rendering: pixelated !important; /* Pour Chrome/Safari */\n  image-rendering: -moz-crisp-edges !important; /* Pour Firefox */\n}\n.thumb_project img{\n    transition: --wwi-f 0.5s ease, filter 0.5s ease !important;\n}\n</style>\n\n<script>\ndocument.querySelector('body').addEventListener('mousemove', eyeball);\n\n    function eyeball(event) {\n      var eye = document.querySelectorAll('.eye');\n      var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n\n      eye.forEach(function(eye) {\n        let x = (eye.getBoundingClientRect().left + scrollLeft) + (eye.clientWidth / 2);\n        let y = (eye.getBoundingClientRect().top + scrollTop) + (eye.clientHeight / 2);\n        let radian = Math.atan2(event.pageX - x, event.pageY - y);\n        let rot = (radian * (180 / Math.PI) * -1) + 270;\n        eye.style.transform = \"rotate(\"+ rot +\"deg)\";\n      });\n    }\n</script>\n"},"baseTag":{"href":"/","target":"_self"},"alternateLinks":[{"rel":"alternate","hreflang":"x-default","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/services/"},{"rel":"alternate","hreflang":"fr","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/services/"}]},"index":{"outputDir":"./","lang":"fr","title":"MARTIN B. LEVY | Product Builder freelance à Marseille","cacheVersion":133,"meta":[{"name":"title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"itemprop":"name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"itemprop":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"itemprop":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"name":"twitter:card","content":"summary"},{"name":"twitter:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"twitter:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"twitter:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"property":"og:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:site_name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:type","content":"website"},{"name":"robots","content":"index, follow"}],"scripts":{"head":"\n","body":"<style>\nhtml {\n    background-color: #101010;\n}\n\n.construct img {\n  image-rendering: pixelated !important; /* Pour Chrome/Safari */\n  image-rendering: -moz-crisp-edges !important; /* Pour Firefox */\n}\n.thumb_project img{\n    transition: --wwi-f 0.5s ease, filter 0.5s ease !important;\n}\n</style>\n\n<script>\ndocument.querySelector('body').addEventListener('mousemove', eyeball);\n\n    function eyeball(event) {\n      var eye = document.querySelectorAll('.eye');\n      var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n\n      eye.forEach(function(eye) {\n        let x = (eye.getBoundingClientRect().left + scrollLeft) + (eye.clientWidth / 2);\n        let y = (eye.getBoundingClientRect().top + scrollTop) + (eye.clientHeight / 2);\n        let radian = Math.atan2(event.pageX - x, event.pageY - y);\n        let rot = (radian * (180 / Math.PI) * -1) + 270;\n        eye.style.transform = \"rotate(\"+ rot +\"deg)\";\n      });\n    }\n</script>\n"},"baseTag":{"href":"/","target":"_self"},"alternateLinks":[{"rel":"alternate","hreflang":"x-default","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/"},{"rel":"alternate","hreflang":"fr","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/"}]},"contact":{"outputDir":"./contact","lang":"fr","title":"MARTIN B. LEVY | Product Builder freelance à Marseille","cacheVersion":133,"meta":[{"name":"title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"itemprop":"name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"itemprop":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"itemprop":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"name":"twitter:card","content":"summary"},{"name":"twitter:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"twitter:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"twitter:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"property":"og:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:site_name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:type","content":"website"},{"name":"robots","content":"index, follow"}],"scripts":{"head":"\n","body":"<style>\nhtml {\n    background-color: #101010;\n}\n\n.construct img {\n  image-rendering: pixelated !important; /* Pour Chrome/Safari */\n  image-rendering: -moz-crisp-edges !important; /* Pour Firefox */\n}\n.thumb_project img{\n    transition: --wwi-f 0.5s ease, filter 0.5s ease !important;\n}\n</style>\n\n<script>\ndocument.querySelector('body').addEventListener('mousemove', eyeball);\n\n    function eyeball(event) {\n      var eye = document.querySelectorAll('.eye');\n      var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n\n      eye.forEach(function(eye) {\n        let x = (eye.getBoundingClientRect().left + scrollLeft) + (eye.clientWidth / 2);\n        let y = (eye.getBoundingClientRect().top + scrollTop) + (eye.clientHeight / 2);\n        let radian = Math.atan2(event.pageX - x, event.pageY - y);\n        let rot = (radian * (180 / Math.PI) * -1) + 270;\n        eye.style.transform = \"rotate(\"+ rot +\"deg)\";\n      });\n    }\n</script>\n"},"baseTag":{"href":"/","target":"_self"},"alternateLinks":[{"rel":"alternate","hreflang":"x-default","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/contact/"},{"rel":"alternate","hreflang":"fr","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/contact/"}]},"projet/:param":{"outputDir":"./projet/:param","lang":"fr","title":"MARTIN B. LEVY | Product Builder freelance à Marseille","cacheVersion":133,"meta":[{"name":"title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"itemprop":"name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"itemprop":"description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"itemprop":"image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"name":"twitter:card","content":"summary"},{"name":"twitter:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"name":"twitter:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"name":"twitter:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:title","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:description","content":"Façonnons ensemble votre présence numérique !\nSAAS, Application, Outil interne, MVP, Expertise, UX/UI, Maintenance/Update, Plugin Bubble, API..."},{"property":"og:image","content":"/images/mbl_favicon.webp?_wwcv=133"},{"property":"og:site_name","content":"MARTIN B. LEVY | Product Builder freelance à Marseille"},{"property":"og:type","content":"website"},{"name":"robots","content":"index, follow"}],"scripts":{"head":"\n","body":"<style>\nhtml {\n    background-color: #101010;\n}\n\n.construct img {\n  image-rendering: pixelated !important; /* Pour Chrome/Safari */\n  image-rendering: -moz-crisp-edges !important; /* Pour Firefox */\n}\n.thumb_project img{\n    transition: --wwi-f 0.5s ease, filter 0.5s ease !important;\n}\n</style>\n\n<script>\ndocument.querySelector('body').addEventListener('mousemove', eyeball);\n\n    function eyeball(event) {\n      var eye = document.querySelectorAll('.eye');\n      var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n\n      eye.forEach(function(eye) {\n        let x = (eye.getBoundingClientRect().left + scrollLeft) + (eye.clientWidth / 2);\n        let y = (eye.getBoundingClientRect().top + scrollTop) + (eye.clientHeight / 2);\n        let radian = Math.atan2(event.pageX - x, event.pageY - y);\n        let rot = (radian * (180 / Math.PI) * -1) + 270;\n        eye.style.transform = \"rotate(\"+ rot +\"deg)\";\n      });\n    }\n</script>\n"},"baseTag":{"href":"/","target":"_self"},"alternateLinks":[{"rel":"alternate","hreflang":"x-default","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/projet/:param/"},{"rel":"alternate","hreflang":"fr","href":"https://8b0e4c63-43e6-4464-93e1-727e9cf66958.weweb-preview.io/projet/:param/"}]}};

// Read the main HTML template
const template = fs.readFileSync(path.resolve(__dirname, 'template.html'), 'utf-8');
const compiledTemplate = handlebars.compile(template);

// Generate an HTML file for each page with its metadata
Object.values(pages).forEach(pageConfig => {
    // Compile the template with page metadata
    const html = compiledTemplate({
        title: pageConfig.title,
        lang: pageConfig.lang,
        meta: pageConfig.meta,
        scripts: {
            head: pageConfig.scripts.head,
            body: pageConfig.scripts.body,
        },
        alternateLinks: pageConfig.alternateLinks,
        cacheVersion: pageConfig.cacheVersion,
        baseTag: pageConfig.baseTag,
    });

    // Save output html for each page
    if (!fs.existsSync(pageConfig.outputDir)) {
        fs.mkdirSync(pageConfig.outputDir, { recursive: true });
    }
    fs.writeFileSync(`${pageConfig.outputDir}/index.html`, html);
});

const rollupOptionsInput = {};
for (const pageName in pages) {
    rollupOptionsInput[pageName] = path.resolve(__dirname, pages[pageName].outputDir, 'index.html');
}

export default defineConfig(() => {
    return {
        plugins: [nodePolyfills({ include: ['events', 'stream', 'string_decoder'] }), vue()],
        base: "/",
        resolve: {
            alias: {
                '@': path.resolve(__dirname, './src'),
            },
        },
        css: {
            preprocessorOptions: {
                scss: {
                    api: 'modern-compiler',
                },
            },
            postcss: {
                plugins: [autoprefixer],
            },
        },
        build: {
            chunkSizeWarningLimit: 10000,
            rollupOptions: {
                input: rollupOptionsInput,
                onwarn: (entry, next) => {
                    if (entry.loc?.file && /js$/.test(entry.loc.file) && /Use of eval in/.test(entry.message)) return;
                    return next(entry);
                },
                maxParallelFileOps: 900,
            },
        },
        logLevel: 'warn',
    };
});
